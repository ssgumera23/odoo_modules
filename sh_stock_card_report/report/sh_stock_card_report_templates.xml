<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<template id="sh_inventory_card_report">
		<t t-call="web.html_container">
			<t t-call="web.external_layout">
				<div class="page">
					<div class="oe_structure" />
					<div style="text-align:center;font-size: 25px;margin-bottom:20px;">
						<strong>Stock Card Report</strong>
					</div>
					<table class="table w-80 table-bordered text-center">
						<tr class="bg-secondary">
							<td>
								<strong>Warehouse</strong>
							</td>
							<td>
								<strong>Location</strong>
							</td>
							<td>
								<strong>Date</strong>
							</td>
							<td>
								<strong>Generated BY</strong>
							</td>
						</tr>
						<tr>
							<td>
								<strong>
									<t t-esc="sh_warehouse_id" />
								</strong>
							</td>
							<td>
								<strong>
									<t t-esc="sh_location_id" />
								</strong>
							</td>
							<td>
								<strong>
									<t t-esc="sh_from_date" />
									TO
									<t t-esc="sh_to_date" />
								</strong>
							</td>
							<td>
								<strong>
									<t t-esc="user_name" />
								</strong>
							</td>
						</tr>
					</table>
					<br />
					<br />
					<div class="d-inline-flex" style="width:100%">
						<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">Date</div>
						<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">Origin</div>
						<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">In Quantity</div>
						<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">Out Quantity</div>
						<div style="border-style: solid; border-width: 1px 1px 0px 1px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">Balance</div>
					</div>

					<!-- Print Category- wise Qweb Pdf -->

					<t t-if="sh_select_product_cat=='category' and stock_card_dict">
						<div class="w-100">
							<t t-foreach="category_list" t-as="category">
								<div class="w-100" style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px; font-weight: bold;text-align:center;background-color:#80cbc4;">
									<span t-esc="category" />
								</div>
								<t t-set="stock_category" t-value="stock_card_dict.get(category)" />
								<t t-set="product_list" t-value="stock_card_dict.get(category).keys()" />
								<t t-foreach="product_list" t-as="product">
									<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px;width:100%; font-weight: bold;text-align:center;background-color:#ffab40;">
										<span t-esc="product" />
									</div>
									<t t-set="stock" t-value="stock_category.get(product)" />
									<div class="w-100 d-inline-flex">
										<div style="border-style: solid; border-width: 1px 0px 0px 0px;padding-left:3px; font-weight: bold;width:80%;text-align:center;">
											<strong>Opening Balance</strong>
										</div>
										<div style="border-style: solid; border-width: 1px 0px 0px 0px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">
											<span t-esc="stock.get('open_stock')" />
										</div>
									</div>
									<t t-set="stock_lines" t-value="stock.get('lines')" />
									<t t-foreach="stock_lines" t-as="lines">
										<div class="w-100 d-inline-flex">
											<t t-foreach="lines" t-as="line">
												<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px;width:20%;text-align:center;">
													<span t-esc="line" />
												</div>
											</t>
										</div>
									</t>
									<t t-set="stock_total" t-value="stock.get('total')" />
									<div class="w-100 d-inline-flex">
										<t t-foreach="stock_total" t-as="value">
											<div style="border-style: solid; border-width: 0px 0px 0px 1px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">
												<span t-esc="value" />
											</div>
										</t>
									</div>
									<br />
									<br />
								</t>
							</t>
						</div>
					</t>

					<!-- Print Product wise Qweb pdf Report -->

					<t t-if="sh_select_product_cat=='product' and stock_card_dict">
						<div class="w-100">
							<t t-foreach="product_list" t-as="product">
								<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px; font-weight: bold;width:100%;text-align:center;background-color:#ffab40;">
									<span t-esc="product" />
								</div>
								<t t-set="stock" t-value="stock_card_dict.get(product)" />
								<div class="w-100 d-inline-flex">
									<div style="border-style: solid; border-width: 1px 0px 0px 0px;padding-left:3px; font-weight: bold;width:80%;text-align:center;">
										<strong>Opening Balance</strong>
									</div>
									<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">
										<span t-esc="stock.get('open_stock')" />
									</div>
								</div>
								<t t-set="stock_lines" t-value="stock.get('lines')" />
								<t t-foreach="stock_lines" t-as="lines">
									<div class="w-100 d-inline-flex">
										<t t-foreach="lines" t-as="line">
											<div style="border-style: solid; border-width: 1px 0px 0px 1px;padding-left:3px; width:20%;text-align:center;">
												<span t-esc="line" />
											</div>
										</t>
									</div>
								</t>
								<t t-set="stock_total" t-value="stock.get('total')" />
								<div class="w-100 d-inline-flex">
									<t t-foreach="stock_total" t-as="value">
										<div style="border-style: solid; border-width: 0px 0px 0px 1px;padding-left:3px; font-weight: bold;width:20%;text-align:center;">
											<span t-esc="value" />
										</div>
									</t>
								</div>
								<br />
								<br />
							</t>
						</div>
					</t>
				</div>
			</t>
		</t>
	</template>
</odoo>